{"version":3,"sources":["webpack:///webpack/bootstrap b0166b037b3e2d3ea6c3","webpack:///./studio/main_dev.js","webpack:///./studio/PermissionProperties.js","webpack:///external \"Studio.libraries['react']\"","webpack:///external \"Studio\""],"names":["addPropertiesComponent","entity","__entitySet","PermissionProperties","entities","Object","keys","filter","k","__isNew","map","props","onChange","users","selectUsers","selectValues","el","res","i","options","length","selected","push","value","readPermissions","v","_id","target","e","username","editPermissions"],"mappings":"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","file":"./studio/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b0166b037b3e2d3ea6c3\n **/","import PermissionProperties from './PermissionProperties.js'\nimport Studio from 'jsreport-studio'\n\nStudio.addPropertiesComponent('permissions', PermissionProperties, (entity) => entity.__entitySet !== 'users')\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/main_dev.js\n **/","import React, { Component } from 'react'\n\nexport default class PermissionProperties extends Component {\n  selectUsers (entities) {\n    return Object.keys(entities).filter((k) => entities[k].__entitySet === 'users' && !entities[k].__isNew).map((k) => entities[k])\n  }\n\n  render () {\n    const { entity, entities, onChange } = this.props\n    const users = this.selectUsers(entities)\n\n    if (entity.__entitySet === 'users') {\n      return <div />\n    }\n\n    const selectValues = (el) => {\n      let res = []\n      for (var i = 0; i < el.options.length; i++) {\n        if (el.options[i].selected) {\n          res.push(el.options[i].value)\n        }\n      }\n\n      return res\n    }\n\n    return (\n      <div className='properties-section'>\n        <div className='form-group'>\n          <label>read permissions</label>\n          <select title='Use CTRL to deselect item and also to select multiple options.'\n            multiple value={entity.readPermissions || []}\n            onChange={(v) => onChange({_id: entity._id, readPermissions: selectValues(v.target)})}>\n            {users.map((e) => <option key={e._id} value={e._id}>{e.username}</option>)}\n          </select>\n        </div>\n        <div className='form-group'>\n          <label>edit permissions</label>\n          <select title='Use CTRL to deselect item and also to select multiple options.'\n            multiple value={entity.editPermissions || []}\n            onChange={(v) => onChange({_id: entity._id, editPermissions: selectValues(v.target)})}>\n            {users.map((e) => <option key={e._id} value={e._id}>{e.username}</option>)}\n          </select>\n        </div>\n      </div>\n    )\n  }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/PermissionProperties.js\n **/","module.exports = Studio.libraries['react'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Studio.libraries['react']\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = Studio;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Studio\"\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}