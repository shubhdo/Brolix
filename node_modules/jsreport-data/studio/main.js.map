{"version":3,"sources":["webpack:///webpack/bootstrap 2d4da612a41a6069589f","webpack:///./studio/main_dev.js","webpack:///./studio/DataEditor.js","webpack:///external \"Studio.libraries['react']\"","webpack:///external \"Studio\"","webpack:///./studio/DataProperties.js"],"names":["addEntitySet","name","faIcon","visibleName","helpUrl","entityTreePosition","addPropertiesComponent","title","entity","__entitySet","addEditorComponent","reformatter","dataJson","previewListeners","push","request","entities","template","data","shortid","dataDetails","Object","keys","map","e","filter","d","__isLoaded","__isNew","length","JSON","stringify","DataEditor","props","onUpdate","_id","v","assign","propTypes","PropTypes","object","isRequired","func","Properties","onChange","dataItems","selectDataItems","target","value","k","foundItems"],"mappings":"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","file":"./studio/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2d4da612a41a6069589f\n **/","import DataEditor from './DataEditor.js'\nimport Properties from './DataProperties.js'\nimport Studio from 'jsreport-studio'\n\nStudio.addEntitySet({\n  name: 'data',\n  faIcon: 'fa-database',\n  visibleName: 'sample data',\n  helpUrl: 'http://jsreport.net/learn/inline-data',\n  entityTreePosition: 900\n})\n\nStudio.addPropertiesComponent(Properties.title, Properties, (entity) => entity.__entitySet === 'templates')\nStudio.addEditorComponent('data', DataEditor, (reformatter, entity) => ({ dataJson: reformatter(entity.dataJson, 'js') }))\n\nStudio.previewListeners.push((request, entities) => {\n  if (!request.template.data || !request.template.data.shortid) {\n    return\n  }\n\n  // try to fill request.data from the active open tab with sample data\n\n  let dataDetails = Object.keys(entities).map((e) => entities[e])\n    .filter((d) => d.shortid === request.template.data.shortid && d.__entitySet === 'data' && (d.__isLoaded || d.__isNew))\n\n  if (!dataDetails.length) {\n    return\n  }\n\n  request.data = dataDetails[0].dataJson || JSON.stringify({})\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/main_dev.js\n **/","import React, { Component } from 'react'\nimport { TextEditor } from 'jsreport-studio'\n\nexport default class DataEditor extends Component {\n  static propTypes = {\n    entity: React.PropTypes.object.isRequired,\n    onUpdate: React.PropTypes.func.isRequired\n  }\n\n  render () {\n    const { entity, onUpdate } = this.props\n\n    return (<TextEditor\n      name={entity._id}\n      mode='javascript'\n      value={entity.dataJson || ''}\n      onUpdate={(v) => onUpdate(Object.assign({}, entity, {dataJson: v}))}\n      />)\n  }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/DataEditor.js\n **/","module.exports = Studio.libraries['react'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Studio.libraries['react']\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = Studio;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Studio\"\n ** module id = 3\n ** module chunks = 0\n **/","import React, { Component } from 'react'\n\nexport default class Properties extends Component {\n  static selectDataItems (entities) {\n    return Object.keys(entities).filter((k) => entities[k].__entitySet === 'data').map((k) => entities[k])\n  }\n\n  static title (entity, entities) {\n    if (!entity.data || !entity.data.shortid) {\n      return 'data'\n    }\n\n    const foundItems = Properties.selectDataItems(entities).filter((e) => entity.data.shortid === e.shortid)\n\n    if (!foundItems.length) {\n      return 'data'\n    }\n\n    return 'sample data: ' + foundItems[0].name\n  }\n\n  render () {\n    const { entity, entities, onChange } = this.props\n    const dataItems = Properties.selectDataItems(entities)\n\n    return (\n      <div className='properties-section'>\n        <div className='form-group'>\n          <select\n            value={entity.data ? entity.data.shortid : ''}\n            onChange={(v) => onChange({_id: entity._id, data: v.target.value !== 'empty' ? { shortid: v.target.value } : null})}>\n            <option key='empty' value='empty'>- not selected -</option>\n            {dataItems.map((e) => <option key={e.shortid} value={e.shortid}>{e.name}</option>)}\n          </select>\n        </div>\n      </div>\n    )\n  }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/DataProperties.js\n **/"],"sourceRoot":""}